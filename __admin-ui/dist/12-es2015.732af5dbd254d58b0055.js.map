{"version":3,"mappings":"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","names":["t","n","$implicit","addWidget","width","_","oxw","setWidgetWidth","o","removeWidget","index","drop","d","rt","timeframe","selection$","constructor","this","ngOnInit","M","userStatus","e","K","getClassForWidth","k","getSupportedWidths","trackRow","join","trackRowItem","c","id","config","currentIndex","B","initLayout","recalculateLayout","reduce","filter","map","setTimeout","g","a","type","directives","C","s","E","l","pipes","b","styles","changeDetection","ngAfterViewInit","loadWidget","ngOnDestroy","X","inputs","widgetConfig","ngContentSelectors","decls","portal","args","read","path","component","pathMatch","getOrders","take","active","eq","state","notEq","sort","orderPlacedAt","refetchOnChannelChange","mapStream","u","f","imports","J","date","S","start","A","end","W","$","getOrderSummary","getActiveChannel","p","D","v","O","brand","hideVendureBranding","hideVersion","getActiveAdministrator","m","y","x","U","welcome","loadComponent","orderSummary","title","w","requiresPermissions","latestOrders","supportedWidths","testWidget","Object","h","q","T"],"sources":["webpack:///node_modules/@vendure/admin-ui/__ivy_ngcc__/fesm2015/vendure-admin-ui-dashboard.js"],"sourcesContent":["import { Component, ChangeDetectionStrategy, ChangeDetectorRef, ComponentFactoryResolver, Input, ViewChild, ViewContainerRef, NgModule } from '@angular/core';\nimport { DashboardWidgetService, LocalStorageService, DataService, SortOrder, CoreModule, SharedModule, ADMIN_UI_VERSION, getAppConfig, Permission } from '@vendure/admin-ui/core';\nimport { assertNever } from '@vendure/common/lib/shared-utils';\nimport { map, tap, distinctUntilChanged, shareReplay, switchMap } from 'rxjs/operators';\nimport { __awaiter } from 'tslib';\nimport { RouterModule } from '@angular/router';\nimport { marker } from '@biesbjerg/ngx-translate-extract-marker';\nimport dayjs from 'dayjs';\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@vendure/admin-ui/core';\nimport * as ɵngcc2 from '@clr/angular';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from '@angular/cdk/drag-drop';\nimport * as ɵngcc5 from '@ngx-translate/core';\nimport * as ɵngcc6 from '@angular/router';\n\nfunction DashboardComponent_button_7_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 7);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_button_7_Template_button_click_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r4); const id_r2 = restoredCtx.$implicit; const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.addWidget(id_r2); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const id_r2 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", id_r2, \" \");\n} }\nconst _c0 = function (a0) { return { width: a0 }; };\nfunction DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 22);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template_button_click_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r14); const width_r11 = restoredCtx.$implicit; const widget_r8 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r12 = ɵngcc0.ɵɵnextContext(2); return ctx_r12.setWidgetWidth(widget_r8, width_r11); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const width_r11 = ctx.$implicit;\n    const widget_r8 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"disabled\", width_r11 === widget_r8.width);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind2(2, 2, \"dashboard.widget-width\", ɵngcc0.ɵɵpureFunction1(5, _c0, width_r11)), \" \");\n} }\nfunction DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"vdr-dashboard-widget\", 12);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 13);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 14);\n    ɵngcc0.ɵɵelement(3, \"clr-icon\", 15);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"vdr-dropdown\");\n    ɵngcc0.ɵɵelementStart(5, \"button\", 16);\n    ɵngcc0.ɵɵelement(6, \"clr-icon\", 17);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"vdr-dropdown-menu\", 3);\n    ɵngcc0.ɵɵelementStart(8, \"h4\", 18);\n    ɵngcc0.ɵɵtext(9);\n    ɵngcc0.ɵɵpipe(10, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(11, DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template, 3, 7, \"button\", 19);\n    ɵngcc0.ɵɵelement(12, \"div\", 20);\n    ɵngcc0.ɵɵelementStart(13, \"button\", 7);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template_button_click_13_listener() { ɵngcc0.ɵɵrestoreView(_r18); const widget_r8 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r16 = ɵngcc0.ɵɵnextContext(2); return ctx_r16.removeWidget(widget_r8); });\n    ɵngcc0.ɵɵelement(14, \"clr-icon\", 21);\n    ɵngcc0.ɵɵtext(15);\n    ɵngcc0.ɵɵpipe(16, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const widget_r8 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"widgetConfig\", widget_r8.config);\n    ɵngcc0.ɵɵadvance(9);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(10, 4, \"dashboard.widget-resize\"));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r9.getSupportedWidths(widget_r8.config));\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(16, 6, \"dashboard.remove-widget\"), \" \");\n} }\nfunction DashboardComponent_div_10_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 10);\n    ɵngcc0.ɵɵtemplate(1, DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template, 17, 8, \"vdr-dashboard-widget\", 11);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const widget_r8 = ctx.$implicit;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r7.getClassForWidth(widget_r8.width))(\"cdkDragData\", widget_r8);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"vdrIfPermissions\", widget_r8.config.requiresPermissions || null);\n} }\nconst _c1 = function (a0) { return { index: a0 }; };\nfunction DashboardComponent_div_10_Template(rf, ctx) { if (rf & 1) {\n    const _r21 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵlistener(\"cdkDropListDropped\", function DashboardComponent_div_10_Template_div_cdkDropListDropped_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r21); const ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.drop($event); });\n    ɵngcc0.ɵɵtemplate(1, DashboardComponent_div_10_div_1_Template, 2, 3, \"div\", 9);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const rowIndex_r6 = ctx.index;\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"cdkDropListData\", ɵngcc0.ɵɵpureFunction1(3, _c1, rowIndex_r6));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", row_r5)(\"ngForTrackBy\", ctx_r1.trackRowItem);\n} }\nconst _c2 = [\"portal\"];\nfunction DashboardWidgetComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"translate\");\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const title_r3 = ctx.ngIf;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, title_r3));\n} }\nfunction DashboardWidgetComponent_ng_template_7_Template(rf, ctx) { }\nconst _c3 = [\"*\"];\nconst _c4 = function (a1) { return [\"/orders/\", a1]; };\nfunction LatestOrdersWidgetComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"td\", 1);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelement(2, \"vdr-order-state-label\", 2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"td\", 1);\n    ɵngcc0.ɵɵelement(4, \"vdr-customer-label\", 3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"td\", 1);\n    ɵngcc0.ɵɵtext(6);\n    ɵngcc0.ɵɵpipe(7, \"localeCurrency\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(8, \"td\", 1);\n    ɵngcc0.ɵɵtext(9);\n    ɵngcc0.ɵɵpipe(10, \"timeAgo\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"td\", 4);\n    ɵngcc0.ɵɵelement(12, \"vdr-table-row-action\", 5);\n    ɵngcc0.ɵɵpipe(13, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const order_r1 = ctx.item;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", order_r1.code, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"state\", order_r1.state);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"customer\", order_r1.customer);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind2(7, 7, order_r1.total, order_r1.currencyCode));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(10, 10, order_r1.orderPlacedAt));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"label\", ɵngcc0.ɵɵpipeBind1(13, 12, \"common.open\"))(\"linkTo\", ɵngcc0.ɵɵpureFunction1(14, _c4, order_r1.id));\n} }\nfunction OrderSummaryWidgetComponent_div_18_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵelementStart(1, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.selection$.next({ timeframe: \"day\", date: ctx_r3.today }); });\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵpipe(3, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_4_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.selection$.next({ timeframe: \"day\", date: ctx_r5.yesterday }); });\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵpipe(6, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.selection$.next({ timeframe: \"week\" }); });\n    ɵngcc0.ɵɵtext(8);\n    ɵngcc0.ɵɵpipe(9, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(10, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_10_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.selection$.next({ timeframe: \"month\" }); });\n    ɵngcc0.ɵɵtext(11);\n    ɵngcc0.ɵɵpipe(12, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const selection_r2 = ctx.ngIf;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.date === ctx_r0.today);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(3, 12, \"dashboard.today\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.date === ctx_r0.yesterday);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(6, 14, \"dashboard.yesterday\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.timeframe === \"week\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(9, 16, \"dashboard.thisWeek\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.timeframe === \"month\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(12, 18, \"dashboard.thisMonth\"), \" \");\n} }\nfunction OrderSummaryWidgetComponent_div_20_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"localeDate\");\n    ɵngcc0.ɵɵpipe(3, \"localeDate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const range_r8 = ctx.ngIf;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ɵngcc0.ɵɵpipeBind1(2, 2, range_r8.start), \" - \", ɵngcc0.ɵɵpipeBind1(3, 4, range_r8.end), \" \");\n} }\nfunction WelcomeWidgetComponent_div_0_p_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"p\", 4);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ctx_r2.hideVendureBranding ? \"\" : \"Vendure\", \" \", ctx_r2.hideVersion ? \"\" : \"Admin UI v\" + ctx_r2.version, \" \");\n} }\nfunction WelcomeWidgetComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"h4\", 3);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelement(3, \"br\");\n    ɵngcc0.ɵɵelementStart(4, \"small\", 4);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵpipe(6, \"timeAgo\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(7, WelcomeWidgetComponent_div_0_p_7_Template, 2, 2, \"p\", 5);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const administrator_r1 = ctx.ngIf;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate2(\" Welcome, \", administrator_r1.firstName, \" \", administrator_r1.lastName, \"\");\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate1(\"Last login: \", ɵngcc0.ɵɵpipeBind1(6, 4, administrator_r1.user.lastLogin), \"\");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.hideVendureBranding || !ctx_r0.hideVersion);\n} }\nclass DashboardComponent {\r\n    constructor(dashboardWidgetService, localStorageService, changedDetectorRef, dataService) {\r\n        this.dashboardWidgetService = dashboardWidgetService;\r\n        this.localStorageService = localStorageService;\r\n        this.changedDetectorRef = changedDetectorRef;\r\n        this.dataService = dataService;\r\n        this.deletionMarker = '__delete__';\r\n    }\r\n    ngOnInit() {\r\n        this.availableWidgetIds$ = this.dataService.client.userStatus().stream$.pipe(map(({ userStatus }) => userStatus.permissions), map(permissions => this.dashboardWidgetService.getAvailableIds(permissions)), tap(ids => (this.widgetLayout = this.initLayout(ids))));\r\n    }\r\n    getClassForWidth(width) {\r\n        switch (width) {\r\n            case 3:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-3`;\r\n            case 4:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-4`;\r\n            case 6:\r\n                return `clr-col-12 clr-col-lg-6`;\r\n            case 8:\r\n                return `clr-col-12 clr-col-lg-8`;\r\n            case 12:\r\n                return `clr-col-12`;\r\n            default:\r\n                assertNever(width);\r\n        }\r\n    }\r\n    getSupportedWidths(config) {\r\n        return config.supportedWidths || [3, 4, 6, 8, 12];\r\n    }\r\n    setWidgetWidth(widget, width) {\r\n        widget.width = width;\r\n        this.recalculateLayout();\r\n    }\r\n    trackRow(index, row) {\r\n        const id = row.map(item => `${item.id}:${item.width}`).join('|');\r\n        return id;\r\n    }\r\n    trackRowItem(index, item) {\r\n        return item.config;\r\n    }\r\n    addWidget(id) {\r\n        var _a;\r\n        const config = this.dashboardWidgetService.getWidgetById(id);\r\n        if (config) {\r\n            const width = this.getSupportedWidths(config)[0];\r\n            const widget = {\r\n                id,\r\n                config,\r\n                width,\r\n            };\r\n            let targetRow;\r\n            if (this.widgetLayout && this.widgetLayout.length) {\r\n                targetRow = this.widgetLayout[this.widgetLayout.length - 1];\r\n            }\r\n            else {\r\n                targetRow = [];\r\n                (_a = this.widgetLayout) === null || _a === void 0 ? void 0 : _a.push(targetRow);\r\n            }\r\n            targetRow.push(widget);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n    removeWidget(widget) {\r\n        widget.id = this.deletionMarker;\r\n        this.recalculateLayout();\r\n    }\r\n    drop(event) {\r\n        const { currentIndex, previousIndex, previousContainer, container } = event;\r\n        if (previousIndex === currentIndex && previousContainer.data.index === container.data.index) {\r\n            // Nothing changed\r\n            return;\r\n        }\r\n        if (this.widgetLayout) {\r\n            const previousLayoutRow = this.widgetLayout[previousContainer.data.index];\r\n            const newLayoutRow = this.widgetLayout[container.data.index];\r\n            previousLayoutRow.splice(previousIndex, 1);\r\n            newLayoutRow.splice(currentIndex, 0, event.item.data);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n    initLayout(availableIds) {\r\n        const savedLayoutDef = this.localStorageService.get('dashboardWidgetLayout');\r\n        let layoutDef;\r\n        if (savedLayoutDef) {\r\n            // validate all the IDs from the saved layout are still available\r\n            layoutDef = savedLayoutDef.filter(item => availableIds.includes(item.id));\r\n        }\r\n        return this.dashboardWidgetService.getWidgetLayout(layoutDef);\r\n    }\r\n    recalculateLayout() {\r\n        if (this.widgetLayout) {\r\n            const flattened = this.widgetLayout\r\n                .reduce((flat, row) => [...flat, ...row], [])\r\n                .filter(item => item.id !== this.deletionMarker);\r\n            const newLayoutDef = flattened.map(item => ({\r\n                id: item.id,\r\n                width: item.width,\r\n            }));\r\n            this.widgetLayout = this.dashboardWidgetService.getWidgetLayout(newLayoutDef);\r\n            this.localStorageService.set('dashboardWidgetLayout', newLayoutDef);\r\n            setTimeout(() => this.changedDetectorRef.markForCheck());\r\n        }\r\n    }\r\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) { return new (t || DashboardComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DashboardWidgetService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LocalStorageService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nDashboardComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DashboardComponent, selectors: [[\"vdr-dashboard\"]], decls: 11, vars: 8, consts: [[1, \"widget-header\"], [\"vdrDropdownTrigger\", \"\", 1, \"btn\", \"btn-secondary\", \"btn-sm\"], [\"shape\", \"plus\"], [\"vdrPosition\", \"bottom-right\"], [\"class\", \"button\", \"vdrDropdownItem\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDropListGroup\", \"\"], [\"class\", \"clr-row dashboard-row\", \"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 3, \"cdkDropListData\", \"cdkDropListDropped\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"vdrDropdownItem\", \"\", 1, \"button\", 3, \"click\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"clr-row\", \"dashboard-row\", 3, \"cdkDropListData\", \"cdkDropListDropped\"], [\"class\", \"dashboard-item\", \"cdkDrag\", \"\", 3, \"ngClass\", \"cdkDragData\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"cdkDrag\", \"\", 1, \"dashboard-item\", 3, \"ngClass\", \"cdkDragData\"], [3, \"widgetConfig\", 4, \"vdrIfPermissions\"], [3, \"widgetConfig\"], [1, \"flex\"], [\"cdkDragHandle\", \"\", 1, \"drag-handle\"], [\"shape\", \"drag-handle\", \"size\", \"24\"], [\"vdrDropdownTrigger\", \"\", 1, \"icon-button\"], [\"shape\", \"ellipsis-vertical\"], [1, \"dropdown-header\"], [\"class\", \"button\", \"vdrDropdownItem\", \"\", 3, \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"separator\", 1, \"dropdown-divider\"], [\"shape\", \"trash\", 1, \"is-danger\"], [\"vdrDropdownItem\", \"\", 1, \"button\", 3, \"disabled\", \"click\"]], template: function DashboardComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"vdr-dropdown\");\n        ɵngcc0.ɵɵelementStart(2, \"button\", 1);\n        ɵngcc0.ɵɵelement(3, \"clr-icon\", 2);\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵpipe(5, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(6, \"vdr-dropdown-menu\", 3);\n        ɵngcc0.ɵɵtemplate(7, DashboardComponent_button_7_Template, 2, 1, \"button\", 4);\n        ɵngcc0.ɵɵpipe(8, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(10, DashboardComponent_div_10_Template, 2, 5, \"div\", 6);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(5, 4, \"dashboard.add-widget\"), \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ɵngcc0.ɵɵpipeBind1(8, 6, ctx.availableWidgetIds$));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.widgetLayout)(\"ngForTrackBy\", ctx.trackRow);\n    } }, directives: function () { return [ɵngcc1.DropdownComponent, ɵngcc1.DropdownTriggerDirective, ɵngcc2.ClrIconCustomTag, ɵngcc1.DropdownMenuComponent, ɵngcc3.NgForOf, ɵngcc4.CdkDropListGroup, ɵngcc2.ClrDatagridItemsTrackBy, ɵngcc1.DropdownItemDirective, ɵngcc4.CdkDropList, ɵngcc4.CdkDrag, ɵngcc3.NgClass, ɵngcc1.IfPermissionsDirective, DashboardWidgetComponent, ɵngcc4.CdkDragHandle]; }, pipes: function () { return [ɵngcc5.TranslatePipe, ɵngcc3.AsyncPipe]; }, styles: [\"[_nghost-%COMP%]{display:block;max-width:1200px;margin:auto}.widget-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-300);text-align:center}.placeholder[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:3em;margin:24px;line-height:1em}.placeholder[_ngcontent-%COMP%]     .clr-i-outline{fill:var(--color-grey-200)}vdr-dashboard-widget[_ngcontent-%COMP%]{margin-bottom:24px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.dashboard-row[_ngcontent-%COMP%]{padding:0;border-width:1;margin-bottom:6px;transition:padding .2s,margin .2s}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%], .dashboard-row.cdk-drop-list-receiving[_ngcontent-%COMP%]{border:1px dashed var(--color-component-border-200);padding:6px}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dashboard-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\"], changeDetection: 0 });\r\nDashboardComponent.ctorParameters = () => [\r\n    { type: DashboardWidgetService },\r\n    { type: LocalStorageService },\r\n    { type: ChangeDetectorRef },\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-dashboard',\n                template: \"<div class=\\\"widget-header\\\">\\r\\n    <vdr-dropdown>\\r\\n        <button class=\\\"btn btn-secondary btn-sm\\\" vdrDropdownTrigger>\\r\\n            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n            {{ 'dashboard.add-widget' | translate }}\\r\\n        </button>\\r\\n        <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n            <button\\r\\n                class=\\\"button\\\"\\r\\n                vdrDropdownItem\\r\\n                *ngFor=\\\"let id of availableWidgetIds$ | async\\\"\\r\\n                (click)=\\\"addWidget(id)\\\"\\r\\n            >\\r\\n                {{ id }}\\r\\n            </button>\\r\\n        </vdr-dropdown-menu>\\r\\n    </vdr-dropdown>\\r\\n</div>\\r\\n<div cdkDropListGroup>\\r\\n    <div\\r\\n        class=\\\"clr-row dashboard-row\\\"\\r\\n        *ngFor=\\\"let row of widgetLayout; index as rowIndex; trackBy: trackRow\\\"\\r\\n        cdkDropList\\r\\n        (cdkDropListDropped)=\\\"drop($event)\\\"\\r\\n        cdkDropListOrientation=\\\"horizontal\\\"\\r\\n        [cdkDropListData]=\\\"{ index: rowIndex }\\\"\\r\\n    >\\r\\n        <div\\r\\n            *ngFor=\\\"let widget of row; trackBy: trackRowItem\\\"\\r\\n            class=\\\"dashboard-item\\\"\\r\\n            [ngClass]=\\\"getClassForWidth(widget.width)\\\"\\r\\n            cdkDrag\\r\\n            [cdkDragData]=\\\"widget\\\"\\r\\n        >\\r\\n            <vdr-dashboard-widget\\r\\n                *vdrIfPermissions=\\\"widget.config.requiresPermissions || null\\\"\\r\\n                [widgetConfig]=\\\"widget.config\\\"\\r\\n            >\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <div class=\\\"drag-handle\\\" cdkDragHandle>\\r\\n                        <clr-icon shape=\\\"drag-handle\\\" size=\\\"24\\\"></clr-icon>\\r\\n                    </div>\\r\\n                    <vdr-dropdown>\\r\\n                        <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                            <h4 class=\\\"dropdown-header\\\">{{ 'dashboard.widget-resize' | translate }}</h4>\\r\\n                            <button\\r\\n                                class=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                [disabled]=\\\"width === widget.width\\\"\\r\\n                                *ngFor=\\\"let width of getSupportedWidths(widget.config)\\\"\\r\\n                                (click)=\\\"setWidgetWidth(widget, width)\\\"\\r\\n                            >\\r\\n                                {{ 'dashboard.widget-width' | translate: { width: width } }}\\r\\n                            </button>\\r\\n                            <div class=\\\"dropdown-divider\\\" role=\\\"separator\\\"></div>\\r\\n                            <button class=\\\"button\\\" vdrDropdownItem (click)=\\\"removeWidget(widget)\\\">\\r\\n                                <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                                {{ 'dashboard.remove-widget' | translate }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-dashboard-widget>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:block;max-width:1200px;margin:auto}.widget-header{display:flex;justify-content:flex-end}.placeholder{color:var(--color-grey-300);text-align:center}.placeholder .version{font-size:3em;margin:24px;line-height:1em}.placeholder ::ng-deep .clr-i-outline{fill:var(--color-grey-200)}vdr-dashboard-widget{margin-bottom:24px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.dashboard-row{padding:0;border-width:1;margin-bottom:6px;transition:padding .2s,margin .2s}.dashboard-row.cdk-drop-list-dragging,.dashboard-row.cdk-drop-list-receiving{border:1px dashed var(--color-component-border-200);padding:6px}.dashboard-row.cdk-drop-list-dragging .dashboard-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DashboardWidgetService }, { type: ɵngcc1.LocalStorageService }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.DataService }]; }, null); })();\n\nclass DashboardWidgetComponent {\r\n    constructor(componentFactoryResolver) {\r\n        this.componentFactoryResolver = componentFactoryResolver;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.loadWidget();\r\n    }\r\n    loadWidget() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const loadComponentResult = this.widgetConfig.loadComponent();\r\n            const componentType = loadComponentResult instanceof Promise ? yield loadComponentResult : loadComponentResult;\r\n            this.componentRef = this.portal.createComponent(this.componentFactoryResolver.resolveComponentFactory(componentType));\r\n            this.componentRef.changeDetectorRef.detectChanges();\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.componentRef) {\r\n            this.componentRef.destroy();\r\n        }\r\n    }\r\n}\nDashboardWidgetComponent.ɵfac = function DashboardWidgetComponent_Factory(t) { return new (t || DashboardWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver)); };\nDashboardWidgetComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DashboardWidgetComponent, selectors: [[\"vdr-dashboard-widget\"]], viewQuery: function DashboardWidgetComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c2, 5, ViewContainerRef);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.portal = _t.first);\n    } }, inputs: { widgetConfig: \"widgetConfig\" }, ngContentSelectors: _c3, decls: 9, vars: 1, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"title\"], [4, \"ngIf\"], [1, \"controls\"], [1, \"card-block\"], [\"portal\", \"\"]], template: function DashboardWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(3, DashboardWidgetComponent_ng_container_3_Template, 3, 3, \"ng-container\", 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵprojection(5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(6, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(7, DashboardWidgetComponent_ng_template_7_Template, 0, 0, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.widgetConfig.title);\n    } }, directives: [ɵngcc3.NgIf], pipes: [ɵngcc5.TranslatePipe], styles: [\"[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{margin-top:0;min-height:200px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}\"], changeDetection: 0 });\r\nDashboardWidgetComponent.ctorParameters = () => [\r\n    { type: ComponentFactoryResolver }\r\n];\r\nDashboardWidgetComponent.propDecorators = {\r\n    widgetConfig: [{ type: Input }],\r\n    portal: [{ type: ViewChild, args: ['portal', { read: ViewContainerRef },] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-dashboard-widget',\n                template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n            <ng-container *ngIf=\\\"widgetConfig.title as title\\\">{{ title | translate }}</ng-container>\\r\\n        </div>\\r\\n        <div class=\\\"controls\\\">\\r\\n            <ng-content></ng-content>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <ng-template #portal></ng-template>\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:block}.card{margin-top:0;min-height:200px}.card-header{display:flex;justify-content:space-between}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }]; }, { widgetConfig: [{\n            type: Input\n        }], portal: [{\n            type: ViewChild,\n            args: ['portal', { read: ViewContainerRef }]\n        }] }); })();\n\nconst dashboardRoutes = [\r\n    {\r\n        path: '',\r\n        component: DashboardComponent,\r\n        pathMatch: 'full',\r\n    },\r\n];\n\nclass LatestOrdersWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n    }\r\n    ngOnInit() {\r\n        this.latestOrders$ = this.dataService.order\r\n            .getOrders({\r\n            take: 10,\r\n            filter: {\r\n                active: { eq: false },\r\n                state: { notEq: 'Cancelled' },\r\n            },\r\n            sort: {\r\n                orderPlacedAt: SortOrder.DESC,\r\n            },\r\n        })\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.orders.items);\r\n    }\r\n}\nLatestOrdersWidgetComponent.ɵfac = function LatestOrdersWidgetComponent_Factory(t) { return new (t || LatestOrdersWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nLatestOrdersWidgetComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: LatestOrdersWidgetComponent, selectors: [[\"vdr-latest-orders-widget\"]], decls: 3, vars: 3, consts: [[3, \"items\"], [1, \"left\", \"align-middle\"], [3, \"state\"], [3, \"customer\"], [1, \"right\", \"align-middle\"], [\"iconShape\", \"shopping-cart\", 3, \"label\", \"linkTo\"]], template: function LatestOrdersWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"vdr-data-table\", 0);\n        ɵngcc0.ɵɵpipe(1, \"async\");\n        ɵngcc0.ɵɵtemplate(2, LatestOrdersWidgetComponent_ng_template_2_Template, 14, 16, \"ng-template\");\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"items\", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.latestOrders$));\n    } }, directives: [ɵngcc1.DataTableComponent, ɵngcc1.OrderStateLabelComponent, ɵngcc1.CustomerLabelComponent, ɵngcc1.TableRowActionComponent], pipes: [ɵngcc3.AsyncPipe, ɵngcc1.LocaleCurrencyPipe, ɵngcc1.TimeAgoPipe, ɵngcc5.TranslatePipe], styles: [\"vdr-data-table[_ngcontent-%COMP%]     table{margin-top:0}\"], changeDetection: 0 });\r\nLatestOrdersWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LatestOrdersWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-latest-orders-widget',\n                template: \"<vdr-data-table [items]=\\\"latestOrders$ | async\\\">\\r\\n    <ng-template let-order=\\\"item\\\">\\r\\n        <td class=\\\"left align-middle\\\">\\r\\n            {{ order.code }}\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </td>\\r\\n        <td class=\\\"left align-middle\\\">\\r\\n            <vdr-customer-label [customer]=\\\"order.customer\\\"></vdr-customer-label>\\r\\n        </td>\\r\\n        <td class=\\\"left align-middle\\\">{{ order.total | localeCurrency: order.currencyCode }}</td>\\r\\n        <td class=\\\"left align-middle\\\">{{ order.orderPlacedAt | timeAgo }}</td>\\r\\n        <td class=\\\"right align-middle\\\">\\r\\n            <vdr-table-row-action\\r\\n                iconShape=\\\"shopping-cart\\\"\\r\\n                [label]=\\\"'common.open' | translate\\\"\\r\\n                [linkTo]=\\\"['/orders/', order.id]\\\"\\r\\n            ></vdr-table-row-action>\\r\\n        </td>\\r\\n    </ng-template>\\r\\n</vdr-data-table>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\"vdr-data-table ::ng-deep table{margin-top:0}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass LatestOrdersWidgetModule {\r\n}\nLatestOrdersWidgetModule.ɵfac = function LatestOrdersWidgetModule_Factory(t) { return new (t || LatestOrdersWidgetModule)(); };\nLatestOrdersWidgetModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: LatestOrdersWidgetModule });\nLatestOrdersWidgetModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule, SharedModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LatestOrdersWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule, SharedModule],\n                declarations: [LatestOrdersWidgetComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LatestOrdersWidgetModule, { declarations: function () { return [LatestOrdersWidgetComponent]; }, imports: function () { return [CoreModule, SharedModule]; } }); })();\n\nclass OrderSummaryWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.today = new Date();\r\n        this.yesterday = new Date(new Date().setDate(this.today.getDate() - 1));\r\n        this.selection$ = new BehaviorSubject({\r\n            timeframe: 'day',\r\n            date: this.today,\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.dateRange$ = this.selection$.pipe(distinctUntilChanged(), map(selection => {\r\n            return {\r\n                start: dayjs(selection.date).startOf(selection.timeframe).toDate(),\r\n                end: dayjs(selection.date).endOf(selection.timeframe).toDate(),\r\n            };\r\n        }), shareReplay(1));\r\n        const orderSummary$ = this.dateRange$.pipe(switchMap(({ start, end }) => {\r\n            return this.dataService.order\r\n                .getOrderSummary(start, end)\r\n                .refetchOnChannelChange()\r\n                .mapStream(data => data.orders);\r\n        }), shareReplay(1));\r\n        this.totalOrderCount$ = orderSummary$.pipe(map(res => res.totalItems));\r\n        this.totalOrderValue$ = orderSummary$.pipe(map(res => res.items.reduce((total, order) => total + order.total, 0) / 100));\r\n        this.currencyCode$ = this.dataService.settings\r\n            .getActiveChannel()\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.activeChannel.currencyCode || undefined);\r\n    }\r\n}\nOrderSummaryWidgetComponent.ɵfac = function OrderSummaryWidgetComponent_Factory(t) { return new (t || OrderSummaryWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nOrderSummaryWidgetComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: OrderSummaryWidgetComponent, selectors: [[\"vdr-order-summary-widget\"]], decls: 22, vars: 23, consts: [[1, \"stats\"], [1, \"stat\"], [1, \"stat-figure\"], [1, \"stat-label\"], [1, \"footer\"], [\"class\", \"btn-group btn-outline-primary btn-sm\", 4, \"ngIf\"], [\"class\", \"date-range p5\", 4, \"ngIf\"], [1, \"btn-group\", \"btn-outline-primary\", \"btn-sm\"], [1, \"btn\", 3, \"click\"], [1, \"date-range\", \"p5\"]], template: function OrderSummaryWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵtext(3);\n        ɵngcc0.ɵɵpipe(4, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 3);\n        ɵngcc0.ɵɵtext(6);\n        ɵngcc0.ɵɵpipe(7, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(9, \"div\", 2);\n        ɵngcc0.ɵɵtext(10);\n        ɵngcc0.ɵɵpipe(11, \"currency\");\n        ɵngcc0.ɵɵpipe(12, \"async\");\n        ɵngcc0.ɵɵpipe(13, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(14, \"div\", 3);\n        ɵngcc0.ɵɵtext(15);\n        ɵngcc0.ɵɵpipe(16, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(17, \"div\", 4);\n        ɵngcc0.ɵɵtemplate(18, OrderSummaryWidgetComponent_div_18_Template, 13, 20, \"div\", 5);\n        ɵngcc0.ɵɵpipe(19, \"async\");\n        ɵngcc0.ɵɵtemplate(20, OrderSummaryWidgetComponent_div_20_Template, 4, 6, \"div\", 6);\n        ɵngcc0.ɵɵpipe(21, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 6, ctx.totalOrderCount$));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(7, 8, \"dashboard.total-orders\"));\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind2(11, 10, ɵngcc0.ɵɵpipeBind1(12, 13, ctx.totalOrderValue$), ɵngcc0.ɵɵpipeBind1(13, 15, ctx.currencyCode$) || undefined), \" \");\n        ɵngcc0.ɵɵadvance(5);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(16, 17, \"dashboard.total-order-value\"));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(19, 19, ctx.selection$));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(21, 21, ctx.dateRange$));\n    } }, directives: [ɵngcc3.NgIf], pipes: [ɵngcc3.AsyncPipe, ɵngcc5.TranslatePipe, ɵngcc3.CurrencyPipe, ɵngcc1.LocaleDatePipe], styles: [\".stats[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.stat[_ngcontent-%COMP%]{text-align:center}.stat-figure[_ngcontent-%COMP%]{font-size:2rem;line-height:3rem}.stat-label[_ngcontent-%COMP%]{text-transform:uppercase}.date-range[_ngcontent-%COMP%]{margin-top:0}.footer[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;justify-content:space-between}\"], changeDetection: 0 });\r\nOrderSummaryWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(OrderSummaryWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-order-summary-widget',\n                template: \"<div class=\\\"stats\\\">\\r\\n    <div class=\\\"stat\\\">\\r\\n        <div class=\\\"stat-figure\\\">{{ totalOrderCount$ | async }}</div>\\r\\n        <div class=\\\"stat-label\\\">{{ 'dashboard.total-orders' | translate }}</div>\\r\\n    </div>\\r\\n    <div class=\\\"stat\\\">\\r\\n        <div class=\\\"stat-figure\\\">\\r\\n            {{ totalOrderValue$ | async | currency: (currencyCode$ | async) || undefined }}\\r\\n        </div>\\r\\n        <div class=\\\"stat-label\\\">{{ 'dashboard.total-order-value' | translate }}</div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"footer\\\">\\r\\n    <div class=\\\"btn-group btn-outline-primary btn-sm\\\" *ngIf=\\\"selection$ | async as selection\\\">\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.date === today\\\" (click)=\\\"selection$.next({timeframe: 'day', date: today})\\\">\\r\\n            {{ 'dashboard.today' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.date === yesterday\\\" (click)=\\\"selection$.next({timeframe: 'day', date: yesterday})\\\">\\r\\n            {{ 'dashboard.yesterday' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.timeframe === 'week'\\\" (click)=\\\"selection$.next({timeframe: 'week'})\\\">\\r\\n            {{ 'dashboard.thisWeek' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.timeframe === 'month'\\\" (click)=\\\"selection$.next({timeframe: 'month'})\\\">\\r\\n            {{ 'dashboard.thisMonth' | translate }}\\r\\n        </button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"date-range p5\\\" *ngIf=\\\"dateRange$ | async as range\\\">\\r\\n        {{ range.start | localeDate }} - {{ range.end | localeDate }}\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\".stats{display:flex;justify-content:space-evenly}.stat{text-align:center}.stat-figure{font-size:2rem;line-height:3rem}.stat-label{text-transform:uppercase}.date-range{margin-top:0}.footer{margin-top:24px;display:flex;flex-direction:column;justify-content:space-between}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass OrderSummaryWidgetModule {\r\n}\nOrderSummaryWidgetModule.ɵfac = function OrderSummaryWidgetModule_Factory(t) { return new (t || OrderSummaryWidgetModule)(); };\nOrderSummaryWidgetModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: OrderSummaryWidgetModule });\nOrderSummaryWidgetModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(OrderSummaryWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [OrderSummaryWidgetComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(OrderSummaryWidgetModule, { declarations: function () { return [OrderSummaryWidgetComponent]; }, imports: function () { return [CoreModule]; } }); })();\n\nclass TestWidgetComponent {\r\n}\nTestWidgetComponent.ɵfac = function TestWidgetComponent_Factory(t) { return new (t || TestWidgetComponent)(); };\nTestWidgetComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: TestWidgetComponent, selectors: [[\"vdr-test-widget\"]], decls: 2, vars: 0, template: function TestWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"p\");\n        ɵngcc0.ɵɵtext(1, \"This is a test widget!\");\n        ɵngcc0.ɵɵelementEnd();\n    } }, styles: [\"\"], changeDetection: 0 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TestWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-test-widget',\n                template: \"<p>This is a test widget!</p>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\"\"]\n            }]\n    }], null, null); })();\r\nclass TestWidgetModule {\r\n}\nTestWidgetModule.ɵfac = function TestWidgetModule_Factory(t) { return new (t || TestWidgetModule)(); };\nTestWidgetModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: TestWidgetModule });\nTestWidgetModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TestWidgetModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [TestWidgetComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TestWidgetModule, { declarations: [TestWidgetComponent] }); })();\n\nclass WelcomeWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.version = ADMIN_UI_VERSION;\r\n        this.brand = getAppConfig().brand;\r\n        this.hideVendureBranding = getAppConfig().hideVendureBranding;\r\n        this.hideVersion = getAppConfig().hideVersion;\r\n    }\r\n    ngOnInit() {\r\n        this.administrator$ = this.dataService.administrator\r\n            .getActiveAdministrator()\r\n            .mapStream(data => data.activeAdministrator || null);\r\n    }\r\n}\nWelcomeWidgetComponent.ɵfac = function WelcomeWidgetComponent_Factory(t) { return new (t || WelcomeWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nWelcomeWidgetComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: WelcomeWidgetComponent, selectors: [[\"vdr-welcome-widget\"]], decls: 4, vars: 3, consts: [[4, \"ngIf\"], [1, \"placeholder\"], [\"shape\", \"line-chart\", \"size\", \"128\"], [1, \"h4\"], [1, \"p5\"], [\"class\", \"p5\", 4, \"ngIf\"]], template: function WelcomeWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, WelcomeWidgetComponent_div_0_Template, 8, 6, \"div\", 0);\n        ɵngcc0.ɵɵpipe(1, \"async\");\n        ɵngcc0.ɵɵelementStart(2, \"div\", 1);\n        ɵngcc0.ɵɵelement(3, \"clr-icon\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.administrator$));\n    } }, directives: [ɵngcc3.NgIf, ɵngcc2.ClrIconCustomTag], pipes: [ɵngcc3.AsyncPipe, ɵngcc1.TimeAgoPipe], styles: [\"[_nghost-%COMP%]{display:flex;justify-content:space-between}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-200)}\"], changeDetection: 0 });\r\nWelcomeWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WelcomeWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-welcome-widget',\n                template: \"<div *ngIf=\\\"administrator$ | async as administrator\\\">\\r\\n    <h4 class=\\\"h4\\\">\\r\\n        Welcome, {{ administrator.firstName }} {{ administrator.lastName }}<br />\\r\\n        <small class=\\\"p5\\\">Last login: {{ administrator.user.lastLogin | timeAgo }}</small>\\r\\n    </h4>\\r\\n\\r\\n    <p class=\\\"p5\\\" *ngIf=\\\"!hideVendureBranding || !hideVersion\\\">\\r\\n        {{ hideVendureBranding ? '' : 'Vendure' }} {{ hideVersion ? '' : ('Admin UI v' + version) }}\\r\\n    </p>\\r\\n</div>\\r\\n<div class=\\\"placeholder\\\">\\r\\n    <clr-icon shape=\\\"line-chart\\\" size=\\\"128\\\"></clr-icon>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:flex;justify-content:space-between}.placeholder{color:var(--color-grey-200)}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass WelcomeWidgetModule {\r\n}\nWelcomeWidgetModule.ɵfac = function WelcomeWidgetModule_Factory(t) { return new (t || WelcomeWidgetModule)(); };\nWelcomeWidgetModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: WelcomeWidgetModule });\nWelcomeWidgetModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WelcomeWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [WelcomeWidgetComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(WelcomeWidgetModule, { declarations: function () { return [WelcomeWidgetComponent]; }, imports: function () { return [CoreModule]; } }); })();\n\nconst DEFAULT_DASHBOARD_WIDGET_LAYOUT = [\r\n    { id: 'welcome', width: 12 },\r\n    { id: 'orderSummary', width: 6 },\r\n    { id: 'latestOrders', width: 6 },\r\n];\r\nconst ɵ0 = () => WelcomeWidgetComponent, ɵ1 = () => OrderSummaryWidgetComponent, ɵ2 = () => LatestOrdersWidgetComponent, ɵ3 = () => TestWidgetComponent;\r\nconst DEFAULT_WIDGETS = {\r\n    welcome: {\r\n        loadComponent: ɵ0,\r\n    },\r\n    orderSummary: {\r\n        title: marker('dashboard.orders-summary'),\r\n        loadComponent: ɵ1,\r\n        requiresPermissions: [Permission.ReadOrder],\r\n    },\r\n    latestOrders: {\r\n        title: marker('dashboard.latest-orders'),\r\n        loadComponent: ɵ2,\r\n        supportedWidths: [6, 8, 12],\r\n        requiresPermissions: [Permission.ReadOrder],\r\n    },\r\n    testWidget: {\r\n        title: 'Test Widget',\r\n        loadComponent: ɵ3,\r\n    },\r\n};\n\nclass DashboardModule {\r\n    constructor(dashboardWidgetService) {\r\n        Object.entries(DEFAULT_WIDGETS).map(([id, config]) => {\r\n            if (!dashboardWidgetService.getWidgetById(id)) {\r\n                dashboardWidgetService.registerWidget(id, config);\r\n            }\r\n        });\r\n        if (dashboardWidgetService.getDefaultLayout().length === 0) {\r\n            dashboardWidgetService.setDefaultLayout(DEFAULT_DASHBOARD_WIDGET_LAYOUT);\r\n        }\r\n    }\r\n}\nDashboardModule.ɵfac = function DashboardModule_Factory(t) { return new (t || DashboardModule)(ɵngcc0.ɵɵinject(ɵngcc1.DashboardWidgetService)); };\nDashboardModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: DashboardModule });\nDashboardModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[SharedModule, RouterModule.forChild(dashboardRoutes)]] });\r\nDashboardModule.ctorParameters = () => [\r\n    { type: DashboardWidgetService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardModule, [{\n        type: NgModule,\n        args: [{\n                imports: [SharedModule, RouterModule.forChild(dashboardRoutes)],\n                declarations: [DashboardComponent, DashboardWidgetComponent]\n            }]\n    }], function () { return [{ type: ɵngcc1.DashboardWidgetService }]; }, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DashboardModule, { declarations: function () { return [DashboardComponent, DashboardWidgetComponent]; }, imports: function () { return [SharedModule, ɵngcc6.RouterModule]; } }); })();\n\n// This file was generated by the build-public-api.ts script\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_DASHBOARD_WIDGET_LAYOUT, DEFAULT_WIDGETS, DashboardComponent, DashboardModule, DashboardWidgetComponent, LatestOrdersWidgetComponent, LatestOrdersWidgetModule, OrderSummaryWidgetComponent, OrderSummaryWidgetModule, TestWidgetComponent, TestWidgetModule, WelcomeWidgetComponent, WelcomeWidgetModule, dashboardRoutes, ɵ0, ɵ1, ɵ2, ɵ3 };\n\n"]}