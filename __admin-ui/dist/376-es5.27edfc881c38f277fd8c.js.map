{"version":3,"mappings":"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","names":["n","e","constructor","this","t","brand","hideVendureBranding","hideVersion","loginImageUrl","logIn","loadImage","get","toPromise","then","updateImage","i","getRedirectRoute","r","l","s","u","type","directives","w","p","c","pipes","M","styles","canActivate","f","g","factory","token","path","component","pathMatch","m","imports","h"],"sources":["webpack:///node_modules/@vendure/admin-ui/__ivy_ngcc__/fesm2015/vendure-admin-ui-login.js"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport * as i0 from '@angular/core';\nimport { Component, Injectable, NgModule } from '@angular/core';\nimport * as i1 from '@angular/router';\nimport { Router, RouterModule } from '@angular/router';\nimport * as i2 from '@vendure/admin-ui/core';\nimport { ADMIN_UI_VERSION, getAppConfig, AUTH_REDIRECT_PARAM, AuthService, SharedModule } from '@vendure/admin-ui/core';\nimport { map } from 'rxjs/operators';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@vendure/admin-ui/core';\nimport * as ɵngcc2 from '@angular/router';\nimport * as ɵngcc3 from '@angular/common/http';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from '@angular/forms';\nimport * as ɵngcc6 from '@clr/angular';\nimport * as ɵngcc7 from '@ngx-translate/core';\n\nfunction LoginComponent_p_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"p\", 22);\n    ɵngcc0.ɵɵtext(1, \"Photo by \");\n    ɵngcc0.ɵɵelementStart(2, \"a\", 23);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtext(4, \" on \");\n    ɵngcc0.ɵɵelementStart(5, \"a\", 23);\n    ɵngcc0.ɵɵtext(6, \"Unsplash\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"href\", ctx_r0.imageCreatorUrl, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.imageCreator);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"href\", ctx_r0.imageUnsplashUrl, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction LoginComponent_p_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"p\", 24);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r1.imageLocation);\n} }\nfunction LoginComponent_img_10_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 25);\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r2.imageUrl, ɵngcc0.ɵɵsanitizeUrl)(\"alt\", ctx_r2.imageUrl);\n} }\nfunction LoginComponent_span_34_span_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1, \"-\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction LoginComponent_span_34_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵtemplate(2, LoginComponent_span_34_span_2_Template, 2, 0, \"span\", 20);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\"\", ctx_r3.brand, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.hideVendureBranding || !ctx_r3.hideVersion);\n} }\nfunction LoginComponent_span_35_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1, \"vendure\");\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction LoginComponent_span_36_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\"v\", ctx_r5.version, \"\");\n} }\nclass LoginComponent {\r\n    constructor(authService, router, httpClient) {\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this.httpClient = httpClient;\r\n        this.username = '';\r\n        this.password = '';\r\n        this.rememberMe = false;\r\n        this.version = ADMIN_UI_VERSION;\r\n        this.brand = getAppConfig().brand;\r\n        this.hideVendureBranding = getAppConfig().hideVendureBranding;\r\n        this.hideVersion = getAppConfig().hideVersion;\r\n        this.customImageUrl = getAppConfig().loginImageUrl;\r\n        this.imageUrl = '';\r\n        this.imageUnsplashUrl = '';\r\n        this.imageLocation = '';\r\n        this.imageCreator = '';\r\n        this.imageCreatorUrl = '';\r\n        if (this.customImageUrl) {\r\n            this.imageUrl = this.customImageUrl;\r\n        }\r\n        else {\r\n            this.loadImage();\r\n        }\r\n    }\r\n    logIn() {\r\n        this.errorMessage = undefined;\r\n        this.authService.logIn(this.username, this.password, this.rememberMe).subscribe(result => {\r\n            switch (result.__typename) {\r\n                case 'CurrentUser':\r\n                    const redirect = this.getRedirectRoute();\r\n                    this.router.navigateByUrl(redirect ? redirect : '/');\r\n                    break;\r\n                case 'InvalidCredentialsError':\r\n                case 'NativeAuthStrategyError':\r\n                    this.errorMessage = result.message;\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    loadImage() {\r\n        this.httpClient\r\n            .get('https://login-image.vendure.io')\r\n            .toPromise()\r\n            .then(res => {\r\n            this.updateImage(res);\r\n        });\r\n    }\r\n    updateImage(res) {\r\n        const user = res.user;\r\n        const location = res.location;\r\n        this.imageUrl = res.urls.regular + '?utm_source=Vendure+Login+Image&utm_medium=referral';\r\n        this.imageCreator = user.name;\r\n        this.imageLocation = location.name;\r\n        this.imageCreatorUrl = user.links.html + '?utm_source=Vendure+Login+Image&utm_medium=referral';\r\n        this.imageUnsplashUrl = res.links.html;\r\n    }\r\n    /**\r\n     * Attempts to read a redirect param from the current url and parse it into a\r\n     * route from which the user was redirected after a 401 error.\r\n     */\r\n    getRedirectRoute() {\r\n        let redirectTo;\r\n        const re = new RegExp(`${AUTH_REDIRECT_PARAM}=(.*)`);\r\n        try {\r\n            const redirectToParam = window.location.search.match(re);\r\n            if (redirectToParam && 1 < redirectToParam.length) {\r\n                redirectTo = atob(decodeURIComponent(redirectToParam[1]));\r\n            }\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        return redirectTo;\r\n    }\r\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AuthService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Router), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.HttpClient)); };\nLoginComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"vdr-login\"]], decls: 38, vars: 33, consts: [[1, \"login-wrapper\"], [1, \"login-wrapper-inner\"], [1, \"login-wrapper-image\"], [1, \"login-wrapper-image-content\"], [1, \"login-wrapper-image-title\"], [1, \"login-wrapper-image-copyright\"], [\"class\", \"creator\", 4, \"ngIf\"], [\"class\", \"location\", 4, \"ngIf\"], [3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"login-wrapper-form\"], [1, \"login-title\"], [1, \"login-form\"], [1, \"login-group\"], [\"type\", \"text\", \"name\", \"username\", \"id\", \"login_username\", 1, \"username\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"name\", \"password\", \"type\", \"password\", \"id\", \"login_password\", 1, \"password\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [1, \"login-error\", 3, \"clrAlertType\", \"clrAlertClosable\"], [1, \"alert-text\"], [\"type\", \"checkbox\", \"clrCheckbox\", \"\", \"id\", \"rememberme\", \"name\", \"rememberme\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"version\"], [4, \"ngIf\"], [\"src\", \"assets/logo-300px.png\", 1, \"login-wrapper-logo\"], [1, \"creator\"], [\"target\", \"_blank\", 3, \"href\"], [1, \"location\"], [3, \"src\", \"alt\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵtext(5);\n        ɵngcc0.ɵɵpipe(6, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(7, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(8, LoginComponent_p_8_Template, 7, 3, \"p\", 6);\n        ɵngcc0.ɵɵtemplate(9, LoginComponent_p_9_Template, 2, 1, \"p\", 7);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(10, LoginComponent_img_10_Template, 1, 2, \"img\", 8);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(11, \"div\", 9);\n        ɵngcc0.ɵɵelementStart(12, \"p\", 10);\n        ɵngcc0.ɵɵtext(13);\n        ɵngcc0.ɵɵpipe(14, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(15, \"form\", 11);\n        ɵngcc0.ɵɵelementStart(16, \"div\", 12);\n        ɵngcc0.ɵɵelementStart(17, \"input\", 13);\n        ɵngcc0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) { return ctx.username = $event; });\n        ɵngcc0.ɵɵpipe(18, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(19, \"input\", 14);\n        ɵngcc0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) { return ctx.password = $event; });\n        ɵngcc0.ɵɵpipe(20, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(21, \"clr-alert\", 15);\n        ɵngcc0.ɵɵelementStart(22, \"clr-alert-item\");\n        ɵngcc0.ɵɵelementStart(23, \"span\", 16);\n        ɵngcc0.ɵɵtext(24);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(25, \"clr-checkbox-wrapper\");\n        ɵngcc0.ɵɵelementStart(26, \"input\", 17);\n        ɵngcc0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_26_listener($event) { return ctx.rememberMe = $event; });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(27, \"label\");\n        ɵngcc0.ɵɵtext(28);\n        ɵngcc0.ɵɵpipe(29, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(30, \"button\", 18);\n        ɵngcc0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_30_listener() { return ctx.logIn(); });\n        ɵngcc0.ɵɵtext(31);\n        ɵngcc0.ɵɵpipe(32, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(33, \"div\", 19);\n        ɵngcc0.ɵɵtemplate(34, LoginComponent_span_34_Template, 3, 2, \"span\", 20);\n        ɵngcc0.ɵɵtemplate(35, LoginComponent_span_35_Template, 2, 0, \"span\", 20);\n        ɵngcc0.ɵɵtemplate(36, LoginComponent_span_36_Template, 2, 1, \"span\", 20);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(37, \"img\", 21);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(5);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(6, 21, \"common.login-image-title\"), \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.imageCreator);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.imageLocation);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.imageUrl);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(14, 23, \"common.login-title\"), \" \");\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.username)(\"placeholder\", ɵngcc0.ɵɵpipeBind1(18, 25, \"common.username\"));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.password)(\"placeholder\", ɵngcc0.ɵɵpipeBind1(20, 27, \"common.password\"));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵclassProp(\"visible\", ctx.errorMessage);\n        ɵngcc0.ɵɵproperty(\"clrAlertType\", \"danger\")(\"clrAlertClosable\", false);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ctx.errorMessage, \" \");\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngModel\", ctx.rememberMe);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(29, 29, \"common.remember-me\"));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"disabled\", !ctx.username || !ctx.password);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(32, 31, \"common.login\"), \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.brand);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.hideVendureBranding);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.hideVersion);\n    } }, directives: [ɵngcc4.NgIf, ɵngcc5.ɵNgNoValidate, ɵngcc5.NgControlStatusGroup, ɵngcc5.NgForm, ɵngcc1.FormFieldControlDirective, ɵngcc5.DefaultValueAccessor, ɵngcc5.NgControlStatus, ɵngcc5.NgModel, ɵngcc6.ClrAlert, ɵngcc6.ClrAlertItem, ɵngcc6.ClrAlertText, ɵngcc6.ClrCheckboxWrapper, ɵngcc5.CheckboxControlValueAccessor, ɵngcc6.ClrCheckbox, ɵngcc6.ClrLabel], pipes: [ɵngcc7.TranslatePipe], styles: [\".login-wrapper[_ngcontent-%COMP%]{background:#f0f2f5;background-image:none;height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]{background:#fff;width:1120px;height:590px;display:flex;justify-content:flex-start;align-items:stretch;position:relative;border-radius:3px;overflow:hidden}@media (max-width: 992px){.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]{flex-direction:column;height:auto;width:100%}}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]{height:100%;flex-grow:1;position:relative}@media (max-width: 992px){.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]{height:300px}}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:cover;object-position:center;position:relative;z-index:1}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;bottom:0;z-index:10;background:#020024;background:linear-gradient(180deg,rgba(2,0,36,0) 0%,rgba(0,0,0,.75) 100%);display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:30px}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]   .login-wrapper-image-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:bold;color:#fff;margin-bottom:20px}@media (max-width: 992px){.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]   .login-wrapper-image-title[_ngcontent-%COMP%]{font-size:1.2rem}}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]   .login-wrapper-image-copyright[_ngcontent-%COMP%]{opacity:.8}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]   .login-wrapper-image-copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6rem;color:#fff;margin:0!important}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-image[_ngcontent-%COMP%]   .login-wrapper-image-content[_ngcontent-%COMP%]   .login-wrapper-image-copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]{height:100%;width:400px;padding:40px;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 20px 25px #0000001a;overflow:hidden;border-radius:5px;flex-shrink:0}@media (max-width: 992px){.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]{height:auto;width:100%;padding:20px}}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-weight:bold;font-size:1.2rem;margin-bottom:20px;color:#afafaf}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]   .login-group[_ngcontent-%COMP%]   input.username[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]   .login-group[_ngcontent-%COMP%]   input.password[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:15px;padding:12px 16px!important;background:#fff;font-size:14px;line-height:22px;color:#52667a;outline:none;-webkit-appearance:none}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-form[_ngcontent-%COMP%]   .login-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%!important;margin-top:20px!important}.login-wrapper[_ngcontent-%COMP%]   .login-wrapper-inner[_ngcontent-%COMP%]   .login-wrapper-logo[_ngcontent-%COMP%]{width:60px;height:auto;position:absolute;right:20px;top:20px}.version[_ngcontent-%COMP%]{flex:1;flex-grow:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}.login-error[_ngcontent-%COMP%]{max-height:0;overflow:hidden}.login-error.visible[_ngcontent-%COMP%]{max-height:46px;transition:max-height .2s;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation-delay:.2s;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}\"] });\r\nLoginComponent.ctorParameters = () => [\r\n    { type: AuthService },\r\n    { type: Router },\r\n    { type: HttpClient }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LoginComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-login',\n                template: \"<div class=\\\"login-wrapper\\\">\\r\\n    <div class=\\\"login-wrapper-inner\\\">\\r\\n        <div class=\\\"login-wrapper-image\\\">\\r\\n            <div class=\\\"login-wrapper-image-content\\\">\\r\\n                <div class=\\\"login-wrapper-image-title\\\">\\r\\n                    {{ 'common.login-image-title' | translate }}\\r\\n                </div>\\r\\n                <div class=\\\"login-wrapper-image-copyright\\\">\\r\\n                    <p *ngIf=\\\"imageCreator\\\" class=\\\"creator\\\">Photo by  <a [href]=\\\"imageCreatorUrl\\\" target=\\\"_blank\\\">{{ imageCreator }}</a> on <a [href]=\\\"imageUnsplashUrl\\\" target=\\\"_blank\\\">Unsplash</a></p>\\r\\n                    <p *ngIf=\\\"imageLocation\\\" class=\\\"location\\\">{{ imageLocation }}</p>\\r\\n                </div>\\r\\n            </div>\\r\\n            <img *ngIf=\\\"imageUrl\\\" [src]=\\\"imageUrl\\\" [alt]=\\\"imageUrl\\\">\\r\\n        </div>\\r\\n        <div class=\\\"login-wrapper-form\\\">\\r\\n            <p class=\\\"login-title\\\">\\r\\n                {{ 'common.login-title' | translate }}\\r\\n            </p>\\r\\n            <form class=\\\"login-form\\\">\\r\\n                <div class=\\\"login-group\\\">\\r\\n                    <input\\r\\n                        class=\\\"username\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        name=\\\"username\\\"\\r\\n                        id=\\\"login_username\\\"\\r\\n                        [(ngModel)]=\\\"username\\\"\\r\\n                        [placeholder]=\\\"'common.username' | translate\\\"\\r\\n                    />\\r\\n                    <input\\r\\n                        class=\\\"password\\\"\\r\\n                        name=\\\"password\\\"\\r\\n                        type=\\\"password\\\"\\r\\n                        id=\\\"login_password\\\"\\r\\n                        [(ngModel)]=\\\"password\\\"\\r\\n                        [placeholder]=\\\"'common.password' | translate\\\"\\r\\n                    />\\r\\n                    <clr-alert [clrAlertType]=\\\"'danger'\\\"  [clrAlertClosable]=\\\"false\\\" [class.visible]=\\\"errorMessage\\\" class=\\\"login-error\\\">\\r\\n                        <clr-alert-item>\\r\\n                            <span class=\\\"alert-text\\\">\\r\\n                                {{ errorMessage }}\\r\\n                            </span>\\r\\n                        </clr-alert-item>\\r\\n                    </clr-alert>\\r\\n                    <clr-checkbox-wrapper>\\r\\n                        <input\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            clrCheckbox\\r\\n                            id=\\\"rememberme\\\"\\r\\n                            name=\\\"rememberme\\\"\\r\\n                            [(ngModel)]=\\\"rememberMe\\\"\\r\\n                        />\\r\\n                        <label>{{ 'common.remember-me' | translate }}</label>\\r\\n                    </clr-checkbox-wrapper>\\r\\n                    <button\\r\\n                        type=\\\"submit\\\"\\r\\n                        class=\\\"btn btn-primary\\\"\\r\\n                        (click)=\\\"logIn()\\\"\\r\\n                        [disabled]=\\\"!username || !password\\\"\\r\\n                    >\\r\\n                        {{ 'common.login' | translate }}\\r\\n                    </button>\\r\\n                </div>\\r\\n                <div class=\\\"version\\\">\\r\\n                    <span *ngIf=\\\"brand\\\">{{ brand }} <span *ngIf=\\\"!hideVendureBranding || !hideVersion\\\">-</span></span>\\r\\n                    <span *ngIf=\\\"!hideVendureBranding\\\">vendure</span>\\r\\n                    <span *ngIf=\\\"!hideVersion\\\">v{{ version }}</span>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n        <img class=\\\"login-wrapper-logo\\\" src=\\\"assets/logo-300px.png\\\" />\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                styles: [\".login-wrapper{background:#f0f2f5;background-image:none;height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-wrapper .login-wrapper-inner{background:#fff;width:1120px;height:590px;display:flex;justify-content:flex-start;align-items:stretch;position:relative;border-radius:3px;overflow:hidden}@media (max-width: 992px){.login-wrapper .login-wrapper-inner{flex-direction:column;height:auto;width:100%}}.login-wrapper .login-wrapper-inner .login-wrapper-image{height:100%;flex-grow:1;position:relative}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image{height:300px}}.login-wrapper .login-wrapper-inner .login-wrapper-image img{display:block;width:100%;height:100%;object-fit:cover;object-position:center;position:relative;z-index:1}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content{width:100%;height:100%;position:absolute;left:0;bottom:0;z-index:10;background:#020024;background:linear-gradient(180deg,rgba(2,0,36,0) 0%,rgba(0,0,0,.75) 100%);display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:30px}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.6rem;font-weight:bold;color:#fff;margin-bottom:20px}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-title{font-size:1.2rem}}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright{opacity:.8}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright p{font-size:.6rem;color:#fff;margin:0!important}.login-wrapper .login-wrapper-inner .login-wrapper-image .login-wrapper-image-content .login-wrapper-image-copyright a{color:#fff;text-decoration:underline}.login-wrapper .login-wrapper-inner .login-wrapper-form{height:100%;width:400px;padding:40px;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 20px 25px #0000001a;overflow:hidden;border-radius:5px;flex-shrink:0}@media (max-width: 992px){.login-wrapper .login-wrapper-inner .login-wrapper-form{height:auto;width:100%;padding:20px}}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-title{font-weight:bold;font-size:1.2rem;margin-bottom:20px;color:#afafaf}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.username,.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group input.password{display:block;width:100%;margin-bottom:15px;padding:12px 16px!important;background:#fff;font-size:14px;line-height:22px;color:#52667a;outline:none;-webkit-appearance:none}.login-wrapper .login-wrapper-inner .login-wrapper-form .login-group .btn{width:100%!important;margin-top:20px!important}.login-wrapper .login-wrapper-inner .login-wrapper-logo{width:60px;height:auto;position:absolute;right:20px;top:20px}.version{flex:1;flex-grow:1;display:flex;align-items:flex-end;justify-content:center;color:var(--color-grey-300)}.version span+span{margin-left:5px}.login-error{max-height:0;overflow:hidden}.login-error.visible{max-height:46px;transition:max-height .2s;animation:shake .82s cubic-bezier(.36,.07,.19,.97) both;animation-delay:.2s;transform:translate(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;perspective:1000px}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.AuthService }, { type: ɵngcc2.Router }, { type: ɵngcc3.HttpClient }]; }, null); })();\n\n/**\r\n * This guard prevents loggen-in users from navigating to the login screen.\r\n */\r\nclass LoginGuard {\r\n    constructor(router, authService) {\r\n        this.router = router;\r\n        this.authService = authService;\r\n    }\r\n    canActivate(route) {\r\n        return this.authService.checkAuthenticatedStatus().pipe(map(authenticated => {\r\n            if (authenticated) {\r\n                this.router.navigate(['/']);\r\n            }\r\n            return !authenticated;\r\n        }));\r\n    }\r\n}\nLoginGuard.ɵfac = function LoginGuard_Factory(t) { return new (t || LoginGuard)(ɵngcc0.ɵɵinject(ɵngcc2.Router), ɵngcc0.ɵɵinject(ɵngcc1.AuthService)); };\r\nLoginGuard.ɵprov = i0.ɵɵdefineInjectable({ factory: function LoginGuard_Factory() { return new LoginGuard(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.AuthService)); }, token: LoginGuard, providedIn: \"root\" });\r\nLoginGuard.ctorParameters = () => [\r\n    { type: Router },\r\n    { type: AuthService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LoginGuard, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: ɵngcc2.Router }, { type: ɵngcc1.AuthService }]; }, null); })();\n\nconst loginRoutes = [\r\n    {\r\n        path: '',\r\n        component: LoginComponent,\r\n        pathMatch: 'full',\r\n        canActivate: [LoginGuard],\r\n    },\r\n];\n\nclass LoginModule {\r\n}\nLoginModule.ɵfac = function LoginModule_Factory(t) { return new (t || LoginModule)(); };\nLoginModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: LoginModule });\nLoginModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[SharedModule, RouterModule.forChild(loginRoutes)]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LoginModule, [{\n        type: NgModule,\n        args: [{\n                imports: [SharedModule, RouterModule.forChild(loginRoutes)],\n                exports: [],\n                declarations: [LoginComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LoginModule, { declarations: function () { return [LoginComponent]; }, imports: function () { return [SharedModule, ɵngcc2.RouterModule]; } }); })();\n\n// This file was generated by the build-public-api.ts script\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { LoginComponent, LoginGuard, LoginModule, loginRoutes };\n\n"]}